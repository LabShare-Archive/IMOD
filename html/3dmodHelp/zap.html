<head>
<title>Zap Window</title>
</head>
<A NAME = "TOP"><H2>Zap Window Controls</H2></A>
<H3>Mouse Button Assignments</H3>
Descriptions below refer to the first, second, and third mouse 
buttons.  By default, these correspond to left, middle, and right 
buttons of a 3-button mouse, but you can change these assignments in 
the 3dmod Preferences dialog, accessed via the <B>Edit-Options</B> menu entry.
<P>
<A HREF = "#Toolbars">The Tool Bars</A>
<BR><A HREF = "#HotKeys">Hot Keys Special to the Zap Window</A>
<BR><A HREF = "#MovieMouse">Mouse Button Function in Movie Mode</A>
<BR><A HREF = "#ModelMouse">Mouse Button Function in Model Mode</A>

<A NAME = "Toolbars"><H3>The Tool Bars</H3></A>
<UL>
<LI>The <B>up</B> and <B>down arrows</B> step the zoom factor up or down.
<LI>The <B>zoom</B> edit box shows the current zoom factor and allows 
one to type in a custom zoom.
<LI>The <B>size</B> indicator shows the current window size, or the window
pixels enclosed by the rubber band if it is on.  This is the size of image that
will be produced when taking a snapshot.
<LI>The <B>checkerboard</B> button toggles between fast rendering and 
slower but higher quality interpolated image rendering.  When the zoom is
below 0.8, the higher quality display uses a filter to remove aliased
information, which often appears as extra noise.
The smaller the zoom, the slower the filtering is, so the display may become
quite slow for very large images.  The high quality display is on by default
when Zap and XYZ windows are opened; to have them open with the fast display
instead, open the Behavior tab of the Preferences dialog and turn off "Start
Zap and XYZ windows with high-quality display".
<LI>The <B>lock</B> button can lock the Zap window at the current Z value.
When locked, the Z value of a Zap window can be changed with 
controls or hot keys in the window, but that will not change the current
Z value of other windows in the program.
<LI>The <B>centering</B> button toggles between having the image always 
centered on the current model point, and recentering the image only when 
the current point comes near an edge (the default).  When the button is first
  pressed, it will center the current image point if there is no current model
  point (i.e., if you are in movie mode or there is no current point in model
  mode).  Thus, you can find or center the current image point by toggling
  this button or off.
<LI>The <B>modeling direction</B> button toggles between inserting new 
points after the current point (when pointing up) or before 
the current point (when pointing down).
<LI>The <B>rubber band</B> button turns the rubber band on or off.  The rubber
  band can be used to select an area, then snapshot the area, resize the
  window to that area, find its coordinates, or do some operations on all
  contours within the area.  After pressing this button or the <B>Shift+B</B> hot
  key to turn on the rubber band, position the mouse at any desired corner,
  click the first mouse button and hold it down while you move to the opposite
  corner. After initially defining the band, you can adjust its size by
  placing the pointer near an edge or corner and dragging with the first mouse
  button.  The band can be moved as a unit by placing the pointer near an edge
  and dragging with the second mouse button.
<LI>The <B>lasso</B> button turns the lasso contour on or off.  The lasso can
  be used to select multiple contours, to mask the volume displayed by the
<A href="modvIsosurface.html#TOP">Isosurface</A> dialog, and to select an area
within which to delete contours with values below a threshold in
the <A href="beadfix.html#TOP">Bead Fixer</A>.  When it is turned on, you can then
draw the lasso contour by pressing the first or second mouse button, and
holding it down while drawing the contour from one end to the other.  Once it
is drawn, it can be moved by placing the mouse within 10 pixels of the
contour (the cursor will change to indicate that moving is enabled), then
pressing and holding either the first or second mouse button while shifting
the contour.  The contour can also be shifted, rotated, or transformed if
contour shifting is turned on with the <B>Shift+P</B> hot key (see below).
<LI>The <B>Arrow</B> button allows you to draw an arrow quickly for pointing
  out a feature in the image.  Press the button, then move the mouse to the
  desired position for the tail of the arrow, press the first mouse button,
  and hold it down while positioning the head of the arrow.  The arrow
  endpoints stay at the same X/Y positions in the image if the image is panned or
  zoomed or stepped to a different Z.  Turn off the button to remove the
  arrow.  You can change the color of the arrow in the Appearance/Limits tab
  of the 3dmod Options dialog by selecting "Arrow" in the combo box and
  pressing <B>Set Color For</B>.  To draw multiple arrows, you can set up an
  object instead, as described in the "Symbols" section of
  the <A href="objectEdit.html#TOP">Object Edit</A> dialog.
<LI>The <B>Z slider</B> allows one to riffle through images or select a 
particular section to display.
<LI>The <B>section</B> edit box shows the current section and allows one 
to go directly to a section by typing in a number.
<LI>The <B>I</B> button brings the Information Window to the 
front and prints information about window and image size (see the 
<B>Shift+I</B> hot key below).
<LI>If multiple image files have been loaded into 3dmod, three 
additional controls and the image file number and name appear on a separate
tool bar.  The <B>time lock</B> button will prevent 
changes in other windows from changing the time (image file) 
displayed in this Zap window, and vice-versa.  
The <B>left</B> and <B>right arrows</B> will 
step backward and forward in time.
</UL>

<A NAME = "HotKeys"><H3>Hot Keys special to the Zap window</H3></A>
Most of these hot keys, and many others, are available in a menu that pops up
when you right-click over a Zap toolbar.
<UL>
<LI><B>I</B> toggles the modeling direction.
<LI><B>Ctrl+S</B>, <B>Shift+S</B> or <B>Ctrl+Shift+S</B> saves the Zap window,
or the area inside the rubber band, into a TIFF file, a file in the primary
non-TIFF format, or a file in the second non-TIFF format.  (Use the menu entry 
<B>Edit-Options</B> and go to the Behavior tab to select the primary non-TIFF
file format.  The second non-TIFF format will be PNG if the primary one is not
PNG, or JPEG if the primary one is PNG.)
<LI><B>Shift+Z</B> toggles auto section advance on and off.  When this is on, 
the section will change automatically after inserting a point if 
there was a section change between that point and the previous 
point.
<LI><B>B</B> builds a contour when AutoContour window is open.
<LI><B>A</B> advances to and fills next section when auto contouring.
<LI><B>U</B> smooths a filled area when auto contouring.
<LI><B>Shift+B</B> toggles the rubber band on and off.  See the description of the
 rubber band toolbar button above.
<LI><B>Shift+I</B> prints information about the window and image size and 
the coordinates of the image in the window.  If the rubber band 
is on, the sizes and coordinates are relative to the rubber band 
rather than the window.  The image 
coordinates of the lower left and upper right corners, and of 
the center, are printed in the 3dmod info window.  There is also 
a fragment of a command line for extracting the image from the 
stack with <A HREF = "../man/trimvol.html#TOP">trimvol</A>; this is the same
command used by the Extract File entry in the File menu. 
This key also brings the Information 
Window to the front of the display.
<LI><B>Q</B> reports the distance between the current image or model point and
the position of the mouse.  The current image point is used in Movie Mode or
if there is no current model point.  The two positions and 2D distance
between them (in the plane of the image) are printed in the Information
window.  Thus, to measure a distance between two points, click at the first
point with the left mouse button, move the cursor to the second position,
and press Q.
<LI><B>Shift+R</B> resizes the window.  With the rubber band off, the window 
changes, 
if possible, to match the size of the entire image at the 
current zoom.  With the rubber band on, it changes to the size 
of the rubber band and the image is shifted to display the area 
previously in the rubber band.
<LI><B>Ctrl+Shift+R</B> resizes the image inside the rubber band to fill the
  window in one dimension.
<LI><B>Ctrl+A</B> adds multiple contours on the current section to the 
contour selection list.  Selected contours will be shown with a 
distinguishable line thickness.  
With the rubber band off, all eligible contours on the current section will be
added; with the rubber band or lasso on, only contours with points appearing completely
within the rubber band or lasso will be selected.
Contours from the current object that are 
confined to the current section will be added; in addition, if the object is
open contour type and the contours pass between sections, then contours with
points on the current section that are all within the selection area will be
added.  Selected contours from other objects will be retained in the selection
if they meet the same criteria; all contours on other sections will be removed
from the selection.
<LI><B>Ctrl+Shift+A</B> adds multiple contours on the current
section to the contour selection list, taking contours from all objects rather
than just from the current object.
<LI><B>Shift+P</B> Toggles a mode in which you can shift, rotate, stretch, or scale
the whole current contour by dragging with a mouse button held down.  
The first mouse button is used to shift; the second button is used to rotate;
the third is used to stretch the contour along an axis, or to scale it
uniformly if the Shift key is held down.  If mouse buttons have their default
mappings, 
these functions are the same as in the
<A HREF = "../man/midas.html#TOP">Midas</A> program.
If multiple contours are selected, the same operation will be done on all of
them, including contours from objects other than the current object.  If there
is no selected contour but the lasso is on, the operations will be applied to
the lasso contour (the lasso will be drawn with double thickness to indicate
that it is the target for mouse actions.)
This mode stays active until toggled off again, or until the rubber band or
lasso is turned on.
These operations work for any contours in closed contour objects and for
coplanar contours in open contour objects.
<UL>
<LI>To <B>shift</B> contour(s), position the mouse anywhere, press the <B>first mouse 
button</B>, and shift the contour(s) to the desired position.  
<LI>To <B>rotate</B>, press the <B>second button</B> and move the mouse in an
arc around the center of mass of the selected contour(s).
<LI> To <B>stretch</B>, press the 
<B>third button</B> and move the mouse toward or away from the center point.
<LI> To <B>scale</B>, press <B>Shift</B> and the 
<B>third button</B> and move the mouse toward or away from the center point.
<LI> During rotation, stretching, and scaling, the center of action will be marked with 
a star. You can <B>set this center</B> by clicking with <B>Ctrl</B> and the
<B>second mouse button</B>.
<LI> To set a <B>second fixed point</B> for stretching, click with <B>Ctrl</B> and the
<B>third mouse button</B>.  This point will be marked with a red star.
Clicking again will remove the point.  With such a point, moving the mouse with the
third button held down will stretch the contour in such a way that the center
and fixed point stay stationary and the point under the mouse pointer stays
under the pointer.
</UL>
<LI><B>Arrow keys</B> and the <B>keypad</B>: In movie mode, the arrow keys and 
the <B>PageUp</B> and <B>PageDown</B> keys move the current viewing point (the 
small cross), while the keypad keys pan the image horizontally,
vertically, and diagonally.  In model mode, the arrow keys pan 
the image, the numeric keypad arrows move the current model point 
laterally, and the numeric keypad <B>PageUp</B> and <B>PageDown</B> keys move 
the current model point in Z.
<LI><B>Ins</B> on the keypad: In model mode, this key works the same as 
the second mouse button.  A single keystrike adds one point; 
holding the key down allows points to be added continuously.
<LI><B>ESC</B> will close the Zap window.
</UL>
For other keys, see <A HREF = "keyboard.html#TOP">3dmod Hot Keys</A>.

<A NAME = "MovieMouse"><H3>Mouse button function in movie mode</H3></A>
<UL>
<LI><B>First Button Click</B>: Select the current viewing point, marked by 
a small cross.
<LI><B>First Button Drag</B>: Pan the image if it is larger than the 
window, or adjust the size of the rubber band.

<LI><B>Second Button Click</B>: Start movie in forward direction, or stop movie.

<LI><B>Second Button Drag</B>: Move the rubber band.
<LI><B>Third Button Click</B>: Start movie in backward direction, or stop movie.
</UL>

<A NAME = "ModelMouse"><H3>Mouse Button Function in Model Mode</H3></A>
<UL>
<LI><B>First Button Click</B>: Make the nearest visible model point be the 
current model point.  If there is no point nearby, this detaches from 
the current point and contour and selects a current viewing point 
instead.  To attach to points in any object, including ones that are turned
off, there is an option in the <B>Behavior</B> panel of the 3dmod Preferences 
dialog.
<LI><B>First Button Drag</B>: Pan the image if it is larger than the 
window, or adjust the size of the rubber band.
<LI><B>Ctrl - First Button Click</B>: Selects the nearest visible point 
as the current point but also adds this contour to a list of selected 
contours.  Selected contours in this list will be 
displayed with a distinguishable line thickness.  If a contour is 
already selected, Ctrl-clicking on it will deselect it.  The 
selection list is cleared by doing an ordinary first button selection 
of any model point, or by a variety of other operations, mostly ones 
that select a different contour from the current one.  Contours from more
than one object can be selected with this button.
<LI><B>Ctrl - First Button Drag</B>: Adds any contours that the mouse crosses 
to the list of selected contours.  Contours from more
than one object can be selected this way.

<LI><B>Second Button Click</B>: Add one point to the current contour, or to
  a new contour if modeling planar contours and the point is on a different
  plane from the current contour.  The latter occurs when modeling a closed
  contour object or an open contour object with <B>Start new contour at new
  Z</B> selected in the Edit-Object-Type dialog.
<LI><B>Second Button Drag</B>: Continually add points to the current 
contour as the mouse is moved, or move the rubber band.
<LI><B>Third Button Click</B>: Modify the current model point to be at the 
selected position.
<LI><B>Third Button Drag</B>: Continually modify points as the mouse is 
moved.  This only works when the current model point is in the 
interior of the contour, not at its end.
<LI><B>Ctrl - Third Button Click</B>: Delete any points under the 
cursor in the current contour.
<LI><B>Ctrl - Third Button Drag</B>: Continually delete points under the
cursor as the mouse is moved.  At the end, the current point is 
set before the last deletion (or after, if modeling direction is 
inverted.)
</UL>
<P>
<A HREF="index.html#TOP">Help Index<A>
