<head>
<title>Slicer Window</title>
</head>
<H2>The Slicer Window</H2>
The slicer allows you to display a slice at an arbitrary angle through the
volume, centered around a selected point.  Multiple slices can be averaged.
Modeling can be done.
<P>
Slicer has two dockable toolbars that may be floated as separate
windows so that the image will fill the entire window area.  When they 
are floated, they will still pass hot keys on to the slicer window.

<BR><A HREF = "#The First Toolbar">The First Toolbar</A>
<BR><A HREF = "#The Second Toolbar">The Second Toolbar</A>
<BR><A HREF = "#Mouse Actions and Movies">Mouse Actions and Movies</A>
<BR><A HREF = "#Hot Keys">Hot Keys</A>
<BR><A HREF = "#Modeling Tilted">Modeling Tilted Contours to be Meshed</A>

<A NAME = "The First Toolbar"><H3>The First Toolbar</H3></A>
<UL>
<LI>The <B>Up</B> and <B>Down Arrows</B> step the zoom factor up or down.
<LI>The <B>zoom</B> text box shows the current zoom and allows you to type in 
intermediate zoom factors.
<LI>The <B>checkerboard</B> button toggles between fast rendering
(nearest neighbor interpolation) and 
slower but higher quality image rendering (quadratic interpolation).
<LI>The <B>lock</B> button will keep the image locked to the current 
position, even when drawing model points.  When the window is locked,
points can be added continuously by holding down the second mouse button while
moving the mouse, just as in the Zap window.  In addition, the image movement
keys (arrows and PageUp/PageDown) will move the current point by one pixel in
directions parallel or perpendicular to the plane of the slice.
<LI>The <B>IM/FT</B> button toggles between displaying the image slice or
its Fourier transform.  The entire image in the whole window, including any
gray borders, will be padded into a square array and Fourier
transformed, then the portion that fits will be drawn in the window.
Thus a non-square window will give a transform that is isotropic in X
and Y, but portions will be not be visible in one of the dimensions.
Gray borders in the image will create artifacts, so for best results
make the window small enough, or zoom up enough, to eliminate such
borders.  Zooming up does not change the scale of the transform for
zooms above 1; it just decreases the number of pixels that the
transform is based on.  To see the transform at a higher zoom,
increase the zoom and increase the window size by the same amount.
High-resolution mode will sample pixels with accurate interpolation
without changing the number of pixels that the transform is based on.
<LI>The <B>show slice</b> button will cause lines to be drawn in the 
XYZ and ZaP windows to show the intersection of the current 
slice.
<LI>The <B>Z-Scale</B> box lets you 
control whether the volume will be displayed with Z-
scaling.  If you choose <B>Z-Scale Before</B> then the volume will be 
scaled before it is rotated and sliced, and thus the rotation 
angles will not select the same slice as with no Z-scaling.  These 
angles will be correct in a Z-scaled volume, but would not be correct 
for using Rotatevol to achieve the same rotation of the original volume.
If you choose <B>Z-Scale After</B> the volume is scaled after being 
rotated, and the same slice is selected as with no Z-scaling.  If you 
plan to use angles in Rotatevol, use <B>Z-Scale After</B> or no Z-scaling.
<P>
When images are loaded in with a different binning in Z versus X and
Y, the angles are correct for the original, unbinned volume.  This is 
accomplished by applying an implicit Z scaling before rotation.  In 
this case, you can select <B>Z-Scale Before</B> to apply an additional 
Z-scaling, but <B>Z-Scale After</B> will be unavailable.
</UL>

<A NAME = "The Second Toolbar"><H3>The Second Toolbar</H3></A>
On the left are three sliders 
with which you can adjust the rotations about the 
X, Y, and Z axes.  The rotation angles are applied to the volume, 
not to the slicing plane, and they are applied in the order Z, Y, 
X; thus these same angles can be used directly in other programs 
that rotate the volume.  Clicking a slider with the left mouse 
button will change the angle by 1 degree; clicking with the 
middle button moves the slider immediately to the position of 
mouse.  If you drag the slider, the representation of the slice 
in the data volume will change continuously, and the image will 
also be updated if the slider is continuously active.  If the slider is 
not continuously active, the image 
will not be updated until you release the slider.  Typically the 
sliders will be continuously active unless you press the Ctrl
key, although you can change this default behavior in the 3dmod 
Preferences dialog, accessed through the Edit-Options menu entry.
<P>
In the middle is a representation of the slice that is being cut 
from the data volume.
<P>
On the right are controls for adjusting the thickness of 
the image slice and the thickness of model that is shown on the slice.

<A NAME = "Mouse Actions and Movies"><H3>Mouse Actions and Movies</H3></A>
All mouse buttons behave as in the Zap and XYZ windows. 
The first mouse button in movie mode, and all mouse buttons in model 
mode, will change the current viewing point in the data 
volume, unless the image position is locked by the lock button.
<P>
In movie mode, the buttons do the following:
<UL>
<LI><B>First button:</B> Set current viewing point
<LI><B>Second button:</B> Start movie forward, perpendicular to viewed slice
<LI><B>Third button:</B> Start movie backward, perpendicular to viewed slice
</UL>
<P>In model mode, the buttons do the following:
<UL>
<LI><B>First button:</B> Attach to the nearest model point, or detach from the 
current contour
<LI><B>Second button:</B> Insert a point after the current point.  If the
window position is locked, this button can be held down to insert points
continuously.
<LI><B>Third button:</B> Move the current point to the selected location
</UL>
By default, these buttons correspond to the left, middle, and right 
buttons, but you can change these assignments in the 3dmod Preferences 
dialog.
<P>
When a movie is started with an obliquely oriented slice, the range 
of the movie is determined by two sets of limits.  One set of limits is 
imposed to keep the central displayed point within the data volume.  
The other limits are based on the starting and ending movie limits for 
the axis that is closest to perpendicular to the slice.  These limits 
are set in the 3dmod Movie Controller (opened with Edit - Movies...).  
The slice angles can be changed while movieing and these limits will 
be adjusted dynamically.

<A NAME = "Hot Keys"><H3>Hot Keys</H3></A>
<BR><B>-/=</B> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Decrease/Increase zoom
<BR><B>_/+</B> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Decrease/Increase displayed image thickness
<BR><B>9/0</B> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Decrease/Increase displayed model thickness
<BR><B>s</B> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Show slice in ZaP and XYZ windows
<BR><B>S</B> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Snapshot to non-TIFF file
<BR><B>Ctrl-S</B> &nbsp;
Snapshot to TIFF file
<BR><B>x/y/z</B> &nbsp;&nbsp;
Align current and previous model points along X, Y or Z axis
<BR><B>X/Y/Z</B> &nbsp;
Align first and last points of contour along X, Y or Z axis
<BR><B>W</B> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Change X and Y angles so that the current contour is flat in the slice.
<P>
<B>Numeric Keypad:</B>
<BR><B>4/6 (Left/Right)</B> &nbsp;&nbsp;
Decrease/Increase last adjusted angle by 0.1 degree
<BR><B>2/8 (Down/Up)</B> &nbsp;&nbsp;&nbsp;
Decrease/Increase last adjusted angle by 0.5 degree
<BR><B>1/3 (End/PgDn)</B> &nbsp;
Decrease/Increase last adjusted angle by 15 degrees
<BR><B>0 (Insert)</B> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Set last adjusted angle to 0

<A NAME = "Modeling Tilted"><H3>Modeling Tilted Contours to be Meshed</H3></A>
It is possible to mesh contours that have been modeled at an oblique
orientation in the slicer, provided that all of the contours in a surface are
at the same orientation, and that the contours are properly spaced apart.
Follow these procedures:
<OL>
<LI>Select an area to model and click on the center of the area.
<LI>Turn on the <B>Lock</B> button.
<LI>If there are already contours in this object, start a new surface with 
<B>N</B>.
<LI>Model a contour by clicking or dragging with the second mouse button.
<LI>Step between slices with the <B>PageUp</B> and <B>PageDown</B> keys,
keeping the window locked.  Start new contours in the same surface with
<B>n</B>.
<LI>To model another area at a different orientation, be sure to start a new
surface. 
<LI>To return to modeling a surface after changing the angles, or after the
lock has been turned off, select one of the existing contours with the first
mouse button.  Press <B>W</B> to reorient to the contour.  Lock the window
then step to the desired slice.
Using <B>W</B> is very important, not just for getting the same angles, but
also for getting back to the exact coordinates to preserve the spacing between
slices.  
</OL>
Note that if you model at intervals of more than one pixel, it is not so
important to preserve the spacing between slices as just described.
<P>
<A HREF="index.html">Help Index<A>
