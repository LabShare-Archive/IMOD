Version = 1.0
Pip = 1

[Field = InputStack]
short = input
type = FN
usage = Input stack whose defocus will be estimated
tooltip =
manpage = Input stack whose defocus will be estimated.

[Field = AngleFile]
short = angleFn
type = FN
usage = File containing tilt angles for the input stack
tooltip =
manpage = File containing tilt angles for the input stack.  Each line of this
file is the tilt angle for a view of the input stack.  The angles are listed
in order starting from view 1.

[Field = InvertTiltAngles]
short = invert
type = B
usage = Invert the sign of the tilt angles
tooltip =
manpage = Invert the sign of the tilt angles to compensate for a left-handed 
coordinate system in the microscope.  When the sign of the tilt angles and 
the value of the tilt axis rotation angle are such that reconstructions are
generated with inverted handedness, then this option is needed to keep power 
spectra for off-center tiles from being shifted in the wrong direction.

[Field = ConfigFile]
short = config
type = FN
usage = File with a list of noise files used to estimate the noise
tooltip = 
manpage = The configure file specifies the noise files used to estimate the
noise floor, one file per line.  The files should be specified with absolute
paths; the program will not work off of the path of the configure file itself.

[Field = DefocusFile]
short = defFn
type = FN
usage = File to store found defocuses
tooltip = 
manpage = File to store found defocuses.  Each entry in the file will consist
of the starting and ending view number of the range of views being fit to
(numbered from 1), the starting and ending angle of the tilt angle range being
fit to, and the defocus value in nanometers (underfocus positive).

[Field = AxisAngle]
short = aAngle
type = F
usage = Specifies how much the tilt axis deviates from vertical (Y axis)
tooltip =
manpage = Specifies how much the tilt axis deviates from vertical (Y axis). 
This angle is in degrees.  It follows the right hand rule and 
counter-clockwise is positive. 

[Field = PSResolution]
short = psRes
type = I
usage = The number of points over which CTF will be computed 
tooltip =
manpage = The number of points over which CTF will be computed.  The Nyquist 
frequency is divided into equal intervals delineated by these points.

[Field = TileSize]
short = tileSize
type = I
usage = The tile size each strip will be tessellated into
tooltip =
manpage = The tile size each strip will be tessellated into.  The size is in
pixels and the tiles are square.  Each view is first divided into strips 
that are considered to have constant defocus.

[Field = Voltage]
short = volt
type = I
usage = Microscope voltage in kV 
tooltip =
manpage = Microscope voltage in kV.

[Field = MaxCacheSize ]
short = cache
type = I
usage = cache size for tile power spectra in megabytes
tooltip =
manpage = To speed up computation, ctfplotter uses a cache to hold the
rotationally averaged power spectra of individual tiles at 20 times the final
power spectrum resolution.  This option controls the cache size.  The default
value is 1000 megabytes, which should be enough for all slices in a 4Kx4K tilt
series with the default tile size.

[Field = SphericalAberration]
short = cs
type = F
usage = Microscope spherical aberration in millimeters
tooltip =
manpage = Microscope spherical aberration in millimeters

[Field = DefocusTol]
short = defTol
type = I
usage = Defocus tolerance in nanometers defining the center strips
tooltip =
manpage = Defocus tolerance in nanometers defining the center strips.  The
center strips are taken from the 
central region of a view that has defocus difference less than this tolerance.
These kind of center strips from all views within AngleRange 
are considered to have a constant defocus and are used to compute the initial
CTF after being further tessellated into tiles.

[Field = PixelSize]
short = pixelSize
type = F
usage = Image pixel size in nanometers
tooltip =
manpage = Image pixel size in nanometers.

[Field = AmplitudeContrast]
short = ampContrast
type = F
usage = The fraction of amplitude contrast.
tooltip =
manpage = The fraction of amplitude contrast. For Cryo-EM, 
it should be between 0.07 and 0.14.

[Field = ExpectedDefocus]
short = expDef
type = F
usage = Expected defocus at the tilt axis in nanometers.
tooltip =
manpage = Expected defocus at the tilt axis in nanometers, with a positive
valie for underfocus.  The frequency of the first zero of the CTF curve 
is first computed based on this expected defocus.  The segments of the CTF
curve of the input stack around that frequency are selected to be fitted.

[Field = LeftDefTol]
short = leftTol 
type = F
usage = Defocus tolerance in nanometers for strips to the left of center
tooltip =
manpage = Defocus tolerance in nanometers for strips to the left of 
the center strip.  When non-center strips are included in the average, strips
to the left of center are included if their defocus difference is less than 
the given value.

[Field = RightDefTol]
short = rightTol
type = F
usage = Defocus tolerance in nanometers for strips to the right of center
tooltip =
manpage = Defocus tolerance in nanometers for strips to the right of 
the center strip.  When non-center strips are included in the average, strips
to the right of center are included if their defocus difference is less than 
the given value.

[Field = AngleRange]
short = range
type = FP
usage = Starting and ending tilt angles for initial analysis
tooltip =
manpage = Starting and ending tilt angles for initial analysis.  Views with a
tilt angle within this range are used to compute the CTF curve.

[Field = DebugLevel ]
short = debug
type = I
usage = 0-3, debug level, 3 means printing all messages
tooltip =
manpage = Debug level, 0-3. 0: quiet.  1: user messages.  2: cache, tile iteration messages.
3: additional fitting messages. the default is 1.

[Field = Parameter]
short = param
type = PF 
usage = Read parameter entries from file
tooltip = 
manpage = Read parameter entries from this file.
