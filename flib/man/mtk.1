     BBoouullddeerr LLaabboorraattoorryy ffoorr 33--DDiimmeennsssiioonnaall EElleeccttrroonn MMiiccrroossccooppyy ooff CCeellllss

MTK(1)							     MTK(1)

NNAAMMEE
	mtk - to analyze closest approach of trajectories and endpoints

SSYYNNOOPPSSIISS
	mtk

DDEESSCCRRIIPPTTIIOONN

  MTK analyzes the distribution of distances of closest approach
  between microtubules in 3 dimensions (i.e. MicroTubule Kissing).
  The program was adapted from NDA, and many of the entries and
  commands are identical.  Here, only differences from MTK will be
  described; consult the file NDA.DOC for full details on common
  features.  As with NDA, the "type" of a MT is its IMOD model object
  number, or for data from a WIMP model file, 256 minus the object
  color. 
  
  Entries required to get going:

  The first 3 entries are the same as to NDA.
  
  0 for analysis of points of closest appraoch, or 1 for analysis of
  the frequency of MT ends as a function of distance from a bundle.
  The latter analysis is not documented here.

  The name of the model file.  After this, there are 1 or 4 entries
  to describe the scaling of the coordinates in 3-D:

  Name of file with tilt information, or Return if none
  If the sections were significantly tilted during microscopy, the
  program can adjust for these tilts given the proper information.
  Prepare a file in which the first line shows the Z value and the
  tilt of the first tilted section (or of the first section, if that
  one was tilted), and each successive line shows the Z value and tilt
  for each section on which tilt was changed.  Z values should occur in
  ascending order.
  
  IF the model file has no information about scaling in its header,
  the next three entries are required:
  
     Magnification of negatives (without any commas)
  
     Scale, in microns per pixel, at which negatives were digitized
  
     Section thickness in nanometers
  
  Next enter the lower and upper section numbers within which to
  perform the analysis, or enter 0,0 to have no limits in Z and include
  everything, or 0,-1 to go back and read from a new model.
  
  The bin width in microns, and the number of bins to include in the
  density graphs
  
  The power to apply in scaling the counts of numbers of MTs into
  relative density values, and the number of points to fit over to
  determine the 3-D trajectory of an MT.  Counts are divided by
  distance to the given power.  In choosing a power, the goal is to
  have a scaled graph that is relatively flat over medium distances; a
  power near 0.4 generally accomplishes this.  If the number of points
  to fit is 2, then the actual coordinates of digitized points, and the
  line segments connecting them, will be used to describe the position
  of the MT.  With a number great than 2, each segment of the MT will
  be represented by a line least-squares fit to that number of points.
  
  Number of density graphs to compute.  After this, enter two lines
  for each graph:
  
     A list of types of "reference" MTs to measure distances FROM
     A list of types of "neighboring" MTs to measure the distances TO,
        from those reference MTs.
  
  At this point, the program will compute the distributions then go to
  the central option point.  Here are the options that differ from NDA:
  
  13: Loop back to specify a new range of sections to analyze, or a
  new model file entirely.  The new results will replace any previously
  obtained results.
  
  14: Rescale an existing graph by applying a different power to
  distance in scaling the counts of numbers of MTs at each differt
  distance.

  15: Average a new range of sections, or a completely different
  model, with the results already obtained.
  
  17: Set minimum and maximum distances for determined the mean angle
  of closest approach and obtaining markers of points of closest
  approach when outputting a model file.  After setting these limits,
  redo the analysis with option 16.  For any closest approach between
  these two limits, the program will compute the angle between the two
  MTs.  It will also save the information about the closest approach
  in case you write out a new model file.
  
  20: Do the current region(s) after applying random shifts in X and Y
  to the positions of certain MTs.  There are several entries to make:

     Minimum and maximum distance to shift.  The program will attempt
     to shift MTs by a distance between these limits for a certain
     number of trials, then attempt to shift it by up to twice the
     maximum distance for that number of trials again, then give up if
     none of those attempts succeed.  Each MT is shifted as a single
     rigid object in X and Y only.
  
     List of types of MTs to shift, or Return for all MTs.
  
     List of types of MTs to check distances from, or Return for all
     MTs.  When the program attempts to shift an MT, it checks the
     distance of closest approach of this MT to other MTs of the types
     specified in this entry.  If some of these types are being
     shifted, then the program checks the distance only to the Mts of
     these types that have already been shifted.
  
     IF you have previously saved probability values with option 18,
     enter 1 to use these values, or 0 not to.

     IF you are not using stored probability values, make the
     following entries:

        The number of bins of probability values to use for rejecting
        sampled points as being too close to other points, and the bin
        size (a radial distance).  Enter 0,0 for no rejection of close
        points.

        The probability values (between 0 and 1)

  22, 27, and 23 work just as for NDA: you first make the entries
  required by options 19, 26, and 20, respectively, then the series
  of entries required to specify how to compute integrals.
  
  21 can be used to save the current model, which can be either the
  original model or a model after shuffling or converting types or 
  shifting objects randomly.  If you have run an analysis on this model
  with limits set for storing information on closest appraoches, then 
  after entering the output file name, make the following entries:

     Color to make connecting lines between two MTs at their points of
     closest approach
  
     WIMP symbol types to mark the points at the beginning, middle, and
     end of the connecting lines (use 0 for no marks).
  
     MT types whose colors you want to change if they have made a
     closest appraoch within the specified limits, or Return for no
     such changes
  
     IF you want to change colors, then enter the new colors for each
     type


HHIISSTTOORRYY
	  Written by David Mastronarde,  November 1991
