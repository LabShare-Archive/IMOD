	     BBoouullddeerr LLaabboorraattoorryy ffoorr 33--DDiimmeennsssiioonnaall FFiinnee SSttrruuccttuurree

BOXAVG(1)							 BOXAVG(1)

NNAAMMEE
	boxavg - averages images from specified locations in an image file

SSYYNNOOPPSSIISS
	boxavg

DDEESSCCRRIIPPTTIIOONN

  BOXAVG will average images at points specified in a file of
  coordinates.  The file consists of three integer index coordinates
  per point (x, y, z), such as is put out by the POINT routine in WIMP

  The inputs are:
  
  Input image file
  Name of piece list file if image is a montage; otherwise Return
  Name of file of point coordinates
  Name of output file for average
  
  0 if all coordinates in point file correspond to features; or 1 if
      some points are corners that must be omitted (a "teaching" file)
  
  Size of box for averaging, if a square box centered on the point
      coordinate is desired.  Otherwise, enter -1 to specify the box
  
  IF you entered -1, next enter the number of pixels in the box to the
  left, to the right, below and abovethe central pixel.
  
  0 to make the output image the same size as the box, 1 to make it
      the same size as the input image, and -1 to specify the size
  
  IF you entered -1, next enter the X and Y pixel dimensions of the
      output image
  
  Data mode of output file; the default is the same as the input
  
  0 to do one pass and simply average all of the boxes around the given
      point coordinates; or 1 to do a second pass, in which the
      central coordinate of each individual point will be adjusted to
      produce the best fit between the pixels around that point and the
      average from the first pass.
  
  IF the output file is larger than the box size, you must enter the
      next two lines:
    Value to fill the rest of the output array with.  The default is
       the mean value of the edge of the box
    0 to leave the box in one piece in the lower-left corner of the
       output array, or 1 to shift the center of the box to the lower-
       left corner and split the box into 4 pieces in the 4 corners of
       output array
  
  IF the output data mode is 2 (real values), then you must enter one
      more line: a value to subtract from the entire output array.  The
      default value will make the mean of the output array be zero.
  
HHIISSTTOORRYY
  Written by David Mastronarde, 4/26/89

