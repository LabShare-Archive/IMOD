     BBoouullddeerr LLaabboorraattoorryy ffoorr 33--DDiimmeennsssiioonnaall EElleeccttrroonn MMiiccrroossccooppyy ooff CCeellllss

MTFFILTER(1)							 MTFFILTER(1)

NNAAMMEE
	mtffilter - filter by inverse of MTF and low-pass filter

SSYYNNOOPPSSIISS
	mtffilter [options] input_file [output_file]

DDEESSCCRRIIPPTTIIOONN

  Mtffilter can restore contrast in CCD camera images by multiplying them by
  the inverse of the camera's modulation transfer function (MTF).  It can
  also apply a low pass filter to reduce high frequency noise.  One, the
  other, or both of these filters may be applied.  It can filter either
  real-space images in 2D planes, or 3D Fourier transforms in 3D.

  Simply multiplying by the inverse of an MTF would amplify noise too much,
  so the inverse MTF filter is shaped by three parameters.  The first
  and most important is the maximum inverse value, which limits how high the
  inverse can become.  The other two parameters are a cutoff frequency at
  which to start a Gaussian rolloff of the inverse back to 1.0, and the
  sigma value for this Gaussian rolloff.  The default values for these
  parameters (listed below) are based on limited experimentation and are
  fairly conservative.  All of these parameters together will keep the
  inverse filter from amplifying high frequency noise.  The low pass
  filter's role is to filter out those high frequencies.

  If both filters are used, there are potentially 4 different frequency
  ranges:  
  1) From 0 to the frequency at which the inverse reaches its maximum, the
  filter is actually the inverse of the MTF, 
  2) From there to the cutoff frequency for the inverse rolloff, the filter
  equals the maximum inverse,
  3) Beyond this cutoff frequency, the filter progressively decays back to
  1.0,
  4) Beyond the cutoff radius for the low-pass filter, the filter is
  multiplied by another Gaussian and decays to 0.

  The MTF curve to be applied should be read in from a file containing
  values for spatial frequency (in reciprocal pixels) and for the MTF, one
  pair per line.  The program has one built-in curve in which the MTF
  crosses 0.5 at 0.117/pixel.  This curve can be adjusted by scaling its axis,
  which will make it approximately correct for other situations.

  To apply only the low-pass filter, omit the -mtf and -stock options; to
  apply only an inverse filter, omit the -lowpass option.

  If the input file is a real image, then the program will take the FFT of
  each section, apply the filter, take the inverse FFT, and write out the
  filtered section.  If the input file is a Fourier transform, it must be a 
  3D FFT (obtained from "clip fft -3d").  In this case the program will
  apply the filter to the transforms in three dimensions and write out a
  filtered FFT.

  Mtffilter uses the PIP package for input (see the manual page for pip(1)).
  The following options can be specified either as command line arguments
  (with the -) or one per line in a command file or parameter file (without
  the -):

INSERT OPTION TEXT HERE

  -StandardInput
     Read parameter entries from standard input.


HHIISSTTOORRYY
