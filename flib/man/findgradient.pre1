     BBoouullddeerr LLaabboorraattoorryy ffoorr 33--DDiimmeennssiioonnaall EElleeccttrroonn MMiiccrroossccooppyy ooff CCeellllss

FINDGRADIENT(1)						       FINDGRADIENT(1)

NNAAMMEE
  findgradient - Finds mag gradient that minimize montage blending error

SSYYNNOOPPSSIISS
  findgradient [options]

DDEESSCCRRIIPPTTIIOONN
  Findgradient finds parameters related to magnification gradients that
  minimize the displacement errors when Blendmont shifts pieces into
  registration.  When the illumination in the microscope produces a
  significant gradient in magnification with changing Z height, montages taken
  at high tilt do not fit together well.  The error in the overlap zones,
  after shifting pieces into registration, can be several pixels.  Correcting
  for the gradient can reduce the error to a fraction of a pixel.  Thus, the
  parameters of the gradient can be found by adjusting them to give minimum
  error.  The two gradient parameters are the percent change in magnification
  and the degrees of rotation per micron of Z height change.  The other
  parameter that affects the Blendmont error is the effective tilt angle for
  the corrections, which can differ from the nominal tilt angle by several
  degrees.

  Findgradient can be run in three different modes, corresponding to the
  number entered with the SearchType option.  Two of these modes would be used
  when measuring mag gradients from a set of calibration montages, and the
  third would be used to adjust the tilt angles for an individual tilt series
  to give optimum correction.  

  For calibrating gradients, it is recommended that montages be taken at a
  single intensity at extreme positive and negative tilt angles (e.g., -60,
  -50, 50, and 60 degrees).  Then montages would be taken at one extreme angle
  and a series of intensities.  The first step in the analysis would be to run
  Findgradient on the sections taken at the same intensity and over a range of
  angles, computing the error from all of those sections together and
  searching for both the magnification gradient and the best offset to the
  tilt angle (SearchType 3, RunSeparately 0).  Then take the tilt offset from
  the search and specify it in the OffsetTilts entry, and search for the
  magnification gradient separately for all of the sections at the extreme
  angle (SearchType -2, RunSeparately 1).

  To find the best tilt offset for an individual tilt series once the mag
  gradients have been calibrated, select two or three views from each end of
  the tilt series.  Select views where Blendmont does not have any difficulty
  finding the displacements in the overlap zones, which may not be the case at
  the very highest tilt.  Run Findgradient to analyze all of these sections
  together and search for the tilt offset only (SearchType -1 or 1,
  RunSeparately 0).  The mag gradient file must also be specified with
  GradientFile.

  At the end of the serach for each section or group of sections, the program
  prints a summary of the number of iterations in the serach, the final error,
  and the gradient values.  The latter values are in addition to any initial
  gradient specified by a gradient file, so they would be entered into
  Blendmont(1) with the AddToGradient option.

  Some of the options to Findgradient are passed directly to Blendmont.  If
  there are additional options that need to be used when running Blendmont,
  they can be specified with BlendOption entries.

  Findgradient uses the PIP package for input exclusively (see the manual page
  for pip(1)).  The following options can be specified either as command line
  arguments (with the -) or one per line in a command file or parameter file
  (without the -):

INSERT OPTION TEXT HERE

  -StandardInput
     Read parameter entries from standard input.
