#
#  $Author$
#
#  $Date$
#
#  $Revision$
#
#  $Log$
#  Revision 3.6  2006/06/22 01:09:45  mast
#  Replaced LDFLAGS with LDFFLAGS for Intel Mac
#
#  Revision 3.5  2005/05/12 05:07:40  mast
#  Use strip variable
#
#  Revision 3.4  2004/09/10 18:10:59  mast
#  Added sumdensity
#
#  Revision 3.3  2003/10/24 02:30:57  mast
#  Changes for windows/Intel compiler
#
#  Revision 3.2  2003/09/06 00:02:06  mast
#  Added resamplemod
#
#  Revision 3.1  2002/05/23 04:41:37  mast
#  Added repackseed
#

include ../configure

E        = $(BINEXT)
O        = $(OBJEXT)
LDFLG    = $(LDFFLAGS)

PROGS = convertmod$(E) model2point$(E) imavgstat$(E) solvematch$(E) \
 xfmodel$(E) boxstartend$(E) endmodel$(E) realscalemod$(E) scalemodel$(E) \
 checkmtmod$(E) joinmodel$(E) mtsmooth$(E) reducemtmod$(E) xfinterstack$(E) \
 clipmodel$(E) mtmodel$(E) remapmodel$(E) mtlengths$(E) contourmod$(E)\
 smoothsurf$(E) reducecont$(E) fenestra$(E) ccderaser$(E) edgeeraser$(E) \
 refinematch$(E) findwarp$(E) sumdensity$(E) \
 tomopitch$(E) fiberpitch$(E) corrsearch3d$(E) repackseed$(E) resamplemod$(E)

WLIBS = $(LWMOD) $(IMLIBS) $(FORTCLIBS)
SMALLLIBS = $(LSMLMOD) $(IMLIBS) $(FORTCLIBS)


all: $(PROGS)

addtostack$(E): addtostack.$(O)
	$(FC) -o addtostack addtostack.$(O) $(LDFLG) $(WLIBS)

convertmod$(E): convertmod.$(O)
	$(FC) -o convertmod convertmod.$(O) $(LDFLG) $(WLIBS)

model2point$(E): model2point.$(O)
	$(FC) -o model2point model2point.$(O) $(LDFLG) $(WLIBS)

imavgstat$(E): imavgstat.$(O)
	$(FC) -o imavgstat imavgstat.$(O) $(LDFLG) $(WLIBS)

solvematch$(E): solvematch.$(O) solve_wo_outliers.$(O)
	$(FC) -o solvematch solvematch.$(O) solve_wo_outliers.$(O) $(LDFLG) $(WLIBS)

xfmodel$(E): xfmodel.$(O)
	$(FC) -o xfmodel xfmodel.$(O) $(LDFLG) $(WLIBS)

boxstartend$(E): boxstartend.$(O)
	$(FC) -o boxstartend boxstartend.$(O) $(LDFLG) $(WLIBS)

endmodel$(E): endmodel.$(O)
	$(FC) -o endmodel endmodel.$(O) $(LDFLG) $(WLIBS)

realscalemod$(E): realscalemod.$(O)
	$(FC) -o realscalemod realscalemod.$(O) $(LDFLG) $(WLIBS)

scalemodel$(E): scalemodel.$(O)
	$(FC) -o scalemodel scalemodel.$(O) $(LDFLG) $(WLIBS)

checkmtmod$(E): checkmtmod.$(O)
	$(FC) -o checkmtmod checkmtmod.$(O) $(LDFLG) $(WLIBS)

joinmodel$(E): joinmodel.$(O)
	$(FC) -o joinmodel joinmodel.$(O) $(LDFLG) $(WLIBS)

mtsmooth$(E): mtsmooth.$(O)
	$(FC) -o mtsmooth mtsmooth.$(O) $(LDFLG) $(WLIBS)

reducemtmod$(E): reducemtmod.$(O)
	$(FC) -o reducemtmod reducemtmod.$(O) $(LDFLG) $(WLIBS)

xfinterstack$(E): xfinterstack.$(O)
	$(FC) -o xfinterstack xfinterstack.$(O) $(LDFLG) $(WLIBS)

clipmodel$(E): clipmodel.$(O)
	$(FC) -o clipmodel clipmodel.$(O) $(LDFLG) $(WLIBS)

mtmodel$(E): mtmodel.$(O)
	$(FC) -o mtmodel mtmodel.$(O) $(LDFLG) $(WLIBS)

remapmodel$(E): remapmodel.$(O)
	$(FC) -o remapmodel remapmodel.$(O) $(LDFLG) $(WLIBS)

mtlengths$(E): mtlengths.$(O)
	$(FC) -o mtlengths mtlengths.$(O) $(LDFLG) $(WLIBS)

contourmod$(E): contourmod.$(O)
	$(FC) -o contourmod contourmod.$(O) $(LDFLG) $(WLIBS)

smoothsurf$(E): smoothsurf.$(O)
	$(FC) -o smoothsurf smoothsurf.$(O) $(LDFLG) $(WLIBS)

reducecont$(E): reducecont.$(O)
	$(FC) -o reducecont reducecont.$(O) $(LDFLG) $(WLIBS)

fenestra$(E): fenestra.$(O) planefit.$(O)
	$(FC) -o fenestra fenestra.$(O) planefit.$(O) $(LDFLG) $(WLIBS)

ccderaser$(E): ccderaser.$(O)
	$(FC) -o ccderaser ccderaser.$(O) $(LDFLG) $(WLIBS)

edgeeraser$(E): edgeeraser.$(O)
	$(FC) -o edgeeraser edgeeraser.$(O) $(LDFLG) $(WLIBS)

refinematch$(E): refinematch.$(O) solve_wo_outliers.$(O)
	$(FC) -o refinematch refinematch.$(O) $(LDFLG) solve_wo_outliers.$(O) $(WLIBS)

findwarp$(E): findwarp.$(O) solve_wo_outliers.$(O)
	$(FC) -o findwarp findwarp.$(O) $(LDFLG) solve_wo_outliers.$(O) $(WLIBS)

tomopitch$(E): tomopitch.$(O)
	$(FC) -o tomopitch tomopitch.$(O) $(LDFLG) $(SMALLLIBS)

fiberpitch$(E): fiberpitch.$(O)
	$(FC) -o fiberpitch fiberpitch.$(O) $(LDFLG) $(WLIBS)

corrsearch3d$(E): corrsearch3d.$(O)
	$(FC) -o corrsearch3d corrsearch3d.$(O) $(LDFLG) $(WLIBS)

repackseed$(E): repackseed.$(O)
	$(FC) -o repackseed repackseed.$(O) $(LDFLG) $(WLIBS)

resamplemod$(E): resamplemod.$(O)
	$(FC) -o resamplemod resamplemod.$(O) $(LDFLG) $(WLIBS)

sumdensity$(E): sumdensity.$(O)
	$(FC) -o sumdensity sumdensity.$(O) $(LDFLG) $(WLIBS)

install: $(PROGS)
	$(STRIP) $(PROGS)
	$(CP) $(PROGS) $(INSTBINDIR)

clean:
	-\rm -f *.o* *~ *.exe $(PROGS)

