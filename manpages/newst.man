.na
.nh
.TH newst 1 2.30 BL3DEMC
.SH NAME
newst \- Front end to the newstack program.
.SH SYNOPSIS
newst [options] <input file(s)>  <output file>
.SH DESCRIPTION
newst will create a new MRC image file from one or more existing ones
while doing several types of image processing options.  If more than one
input file is given, then all sections will be stacked together from all
files.
The available options are given below.  See the newstack
command manual page for in depth discussion of the various
available options.
.SS Options

Options may be abbreviated to a single letter, or to two letters in the case of
.B -secs
and
.B -size.

The 
.B -expand,
.B -rotate
and
.B -xform
options can be entered together to perform rotation and/or scaling even after
applying alignment transformations.  The images will first be transformed
(if
.B -xform
is entered), then rotated (if
.B -rotate
is entered, then expanded (if
.B -expand
is entered.)

If multiple input files are entered, the 
.B -secs
option may not be used, and a transform file specified with the 
.B -xform
option may contain only one transform, which will be applied to all sections
in all files.

.TP
.B -secs <section list>
Use only the section numbers that are given in the
.I section list
argument. Section numbers are separated by the ',' character
for single sections or the '-' character for ranges.
Section numbers start with zero and go up to n-1.
The default is to use all of the sections.
.TP
.B -size <X,Y>
Set the size of the output image x and y dimensions.
The default size is the same as the input size.
.TP
.B -mode <value>
Select the storage mode of the output file.  
The numerical argument
.I value 
may be (0 = byte, 1 = short, 2 = float)
.TP
.B -offset <X,Y>
Offset all of the images by the same amount in X and Y.  The offset is from 
the old
center of the image to the new center; a positive X offset will shift the
image to the left.
.TP
.B -xform <transform file>
Transform images using the data from a transformation file.
.TP
.B -expand <value>
Magnify the image by the given
.I value,
which should be greater than one to expand the image or less than one to
squeeze it down in size.  If no 
.B size
option is entered, then the image size will automatically be changed by the
same magnification factor.
.TP
.B -rotate <value>
Rotate the image by the given
.I value,
which should be in degrees and positive for counterclockwise rotation.  If 
the rotation is by +90 or -90 degrees and no
.B size
option is entered, then the X and Y sizes of the image will be transposed so
the the output file will show the whole rotated image.  For any other rotation 
angles, you will get the same output size as the input image unless you
enter a new size explicitly.
.TP
.B -linear
Use linear interpolation rather than the default, cubic interpolation, when
transforming images.  Linear interpolation is more suitable when images are
very noisy, but cubic interpolation will preserve fine detail better when
noise is not an issue.  Images are
transformed when the 
.B -xform, -expand,
or
.B -rotate
option is entered. 
.TP
.B -float <value>
Adjust the contrast and relative brightness of images in one
of the following ways.
The numerical argument
.I value  
may be
(0=none, 1=range, 2=mean/SD, 3 = shift to mean, -1 = rescale all images 
by the same amount by specifying a new min and max, -2 = rescale all images
using black and white contrast settings).  For a -1 or -2, the program will
request the new min and max, or the black and white contrast values.
The default value is 0 for doing no floating of images.
.TP
.B -contrast <black,white>
Rescale all images by an amount that will produce the same
contrast and saturation of extreme pixels as when viewing the images
with the given black and white contrast settings.
.SH FILES
If the output file already exists a backup image
of the original is created
with the ~ extension.
.SH AUTHOR
David Mastronarde  <mast@colorado.edu>
.SH SEE ALSO
newstack(1)
.SH BUGS
Section numbers that are out of range will cause an error.
